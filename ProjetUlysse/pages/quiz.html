<!DOCTYPE html>
<html lang="fr">
<head>
    <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="../styles/style.css">
    <link rel="stylesheet" href="../styles/style-quiz.css">
    <link rel="icon" href="../assets/boatgreta2.png" type="image/png">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ulysse 21</title>
</head>


<body>

    <img id="question-image" src="" alt="Question Image" >
    <div id="quiz-container">
        <span id="question-count"></span>
        <p id="section-name"></p>
        <div id="timer"><span id="time-display"></span></div>
        <div id="section-container">
            
        </div>
        <div id="question-container">
            <p id="question"></p>
        </div>
        <div id="answer-buttons" class="btn-container">
            <!-- Les boutons de réponse seront ajoutés ici via JavaScript -->
        </div>
    </div>
    <script>
        // empeche le retour en arriere dans le navigateur
        history.pushState(null, null, document.URL);
        window.addEventListener('popstate', function () {
        history.pushState(null, null, document.URL);
});
// Variable pour suivre si le quiz est terminé
let isQuizFinished = false;

// Mettez à jour la variable lorsque le quiz est terminé
// Vous devrez remplacer cette fonction par votre propre logique
function finishQuiz() {
  isQuizFinished = true;
  // Redirigez l'utilisateur vers la page de score
  window.location.href = 'http://127.0.0.1:5500/pages/result.html';
}

window.onbeforeunload = function() {
  if (!isQuizFinished) {
    // Affichez la boîte de dialogue de confirmation de sortie
    return "Êtes-vous sûr de vouloir quitter cette page ?";
  }
  else{
    finishQuiz();
  }
};

// document.addEventListener('visibilitychange', function() {
//   if (document.visibilityState === 'hidden' && !isQuizFinished) {
//     // L'utilisateur a changé d'onglet, redirigez-le vers une autre page
//     window.location.href = 'http://127.0.0.1:5500/pages/abandon-quiz.html';
//   }
// });



    </script>
    
    <script src="../scripts/script.js"></script>
    <script type="Module" src="../scripts/quiz.js"></script>
    <script type="Module" src="../scripts/script-quiz.js"></script>

</body>

</html>